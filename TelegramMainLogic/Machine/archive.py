from aiogram import Router, types as tp, F
from utils.config import process_user
from data.loader_file import load_file
from TelegramMainLogic.Greetings import greetings_kb as gkb
from TelegramMainLogic.Machine import machine_kb as kb

router = Router()

@router.callback_query(F.data == 'archive')
async def archive(callback: tp.CallbackQuery) -> None:

    '''
    –ö–æ—Ä—É—Ç–∏–Ω–∞ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∞—Ä—Ö–∏–≤–∞.
    '''
    
    user_id = callback.from_user.id
    if user_id not in process_user:
        await callback.answer(
            text='–í –∞—Ä—Ö–∏–≤–µ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö ‚ùå',
            show_alert=True
        )
        return
    
    await callback.message.edit_media(
        media=tp.InputMediaPhoto(
            media=load_file(category='photo', file_name='archive.jpg'),
            caption='<b>–ê—Ä—Ö–∏–≤</b>'
        ),
        reply_markup=kb.builder.archive_record(user_id=user_id)
    )


@router.callback_query(F.data == 'back')
async def back_handler(callback: tp.CallbackQuery) -> None:

    '''
    –ö–æ—Ä—É—Ç–∏–Ω–∞ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é.
    '''

    await callback.message.edit_media(
        media=tp.InputMediaPhoto(
            media=load_file(category='photo', file_name='machine.jpg'),
            caption='<b>–í–∞—Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç AIUmCorp. –í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ</b>'
        ),
        reply_markup=gkb.inline.start_kb
    )


@router.callback_query(F.data == 'flower')
async def flower_handler(callback: tp.CallbackQuery) -> None:

    '''
    –ö–æ—Ä—É—Ç–∏–Ω–∞ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é.
    '''

    text = '''
<b>–ê–Ω–æ–º–∞–ª–∏—è "–¢–∏—Ä–∞–Ω–æ –¶–≤–µ—Ç–æ–∫" üåπ</b>

<b>–û–ø–∏—Å–∞–Ω–∏–µ:</b>
<i>–ê–Ω–æ–º–∞–ª–∏—è –ø—Ä–∏—Ä–æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞. –ú—É—Ç–∏—Ä–æ–≤–∞–≤—à–∏–π —Ü–≤–µ—Ç–æ–∫. –ò–∑–ª—É—á–∞–µ—Ç —Ä–∞–¥–∏–∞—Ü–∏—é –∏ —Å–≤–µ—á–µ–Ω–∏–µ –∫—Ä–∞—Å–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ -  –ø–æ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–º –ø—Ä–∏—á–∏–Ω–∞–º.</i>

<b>–ò—Å—Ç–æ—Ä–∏—è:</b>
<i>–î–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ –∫–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º —Ä–∞—Å—Ç–µ–Ω–∏–µ –ø–æ–ø–∞–ª–æ –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—é –ß–ó–û. –í–µ—Ä–æ—è—Ç–Ω–æ, —Ä–∞—Å—Ç–µ–Ω–∏–µ –±—ã–ª–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è—Ö –ß–ê–≠–° –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –ø—Ä–∏—Ä–æ–¥–Ω—É—é —Å—Ä–µ–¥—É. –í–ø–µ—Ä–≤—ã–µ –±—ã–ª –∑–∞–º–µ—á–µ–Ω –≤ —Å–µ–∫—Ç–æ—Ä–µ #26.</i>

<b>–°–≤–æ–π—Å—Ç–≤–∞:</b>
<i>–ò–∑–ª—É—á–∞–µ—Ç —Ä–∞–¥–∏–∞—Ü–∏—é –∏ –ø—Å–∏-–ø–æ–ª–µ –≤ –æ—Ä–µ–æ–ª–µ –ø—Ä–æ–∏–∑—Ä–æ—Å—Ç–∞–Ω–∏—è, —Å–∏–Ω—Ç–µ–∑–∏—Ä—É–µ—Ç —Ä—è–¥–æ–º —Å —Å–æ–±–æ–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç "–ú–∏—Ü–µ–ª–∏–π".</i>
'''
    group_media = [
        tp.InputMediaPhoto(
            media=load_file(category='photo', file_name='flower_1.jpg'),
            caption=text
        ),
        tp.InputMediaPhoto(media=load_file(category='photo', file_name='flower_2.jpg')),
        tp.InputMediaPhoto(media=load_file(category='photo', file_name='flower_3.jpg')),
    ]

    await callback.answer(
        text='–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤—ã–≥—Ä—É–∂–µ–Ω–∞ –∏–∑ –∞—Ä—Ö–∏–≤–∞ ‚ö†Ô∏è',
        show_alert=True
    )

    await callback.message.answer_media_group(
        media=group_media
    )


@router.callback_query(F.data == 'bush')
async def flower_handler(callback: tp.CallbackQuery) -> None:

    '''
    –ö–æ—Ä—É—Ç–∏–Ω–∞ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é.
    '''

    text = '''
<b>–ê—Ä—Ç–µ—Ñ–∞–∫—Ç "–ú–∏—Ü–µ–ª–∏–π" üçÑ</b>

<b>–û–ø–∏—Å–∞–Ω–∏–µ:</b>
<i>–ê—Ä—Ç–µ—Ñ–∞–∫—Ç –ø—Ä–∏—Ä–æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞. –û–± —ç—Ç–æ–º —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤—É–µ—Ç –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥: —Å—Ç–µ–∫–ª—è–Ω–Ω—ã–π –∏–ª–∏ –ø–ª–∞—Å—Ç–∏–∫–æ–≤—ã–π —à–∞—Ä –æ–±–≤–µ—Ä–Ω—É—Ç—ã–π –≤–µ—Ç–≤—è–º–∏ —Ä–∞—Å—Ç–µ–Ω–∏—è —É –∫–æ—Ç–æ—Ä–æ–≥–æ –ø—Ä–æ—Å—Ö–æ–¥–∏—Ç —Å–∏–Ω—Ç–µ–∑ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞.</i>

<b>–ò—Å—Ç–æ—Ä–∏—è:</b>
<i>–†–∞–Ω–µ–µ –Ω–µ –∏–∑—É—á–µ–Ω –∏ –≤ –∑–æ–Ω–µ –ø–æ—è–≤–∏–ª—Å—è –ø–æ–∑–∂–µ –¥—Ä—É–≥–∏—Ö.  –ù–æ —É–∂–µ –ø—Ä–∏–æ–±—Ä—ë–ª —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ "–ú–∏—Ü–µ–ª–∏–π". –í–∏–¥–∏–º–æ –∏–∑-–∑–∞ —Å—Ö–æ–¥—Å—Ç–≤–∞ —Å–ø–æ—Ä –≥—Ä–∏–±–æ–≤.</i>

<b>–°–≤–æ–π—Å—Ç–≤–∞:</b>
<i>–ù–µ –∏–º–µ–µ—Ç —Ü–µ–ª–µ–±–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤ 
–ß–µ—Ä–µ–∑ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –Ω–æ—à–µ–Ω–∏—è –Ω–∞ –ø–æ—è—Å–µ –∑–æ–º–±–∏—Ä—É–µ—Ç —Å–≤–æ–µ–≥–æ —Ö–æ–∑—è–∏–Ω–∞
–û—Ç–ø—É–≥–∏–≤–∞–µ—Ç –º—É—Ç–∞–Ω—Ç–æ–≤*
*–≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–∑-–∑–∞ —Å–∏–ª—å–Ω–æ–≥–æ —É–ª—å—Ç—Ä–∞–∑–≤—É–∫–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞ –≤ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ–π –±–ª–∏–∑–æ—Å—Ç–∏ –∫ –º—É—Ç–∞–Ω—Ç—É*</i>
'''

    group_media = [
        tp.InputMediaPhoto(
            media=load_file(category='photo', file_name='bush_1.jpg'),
            caption=text
        ),
        tp.InputMediaPhoto(media=load_file(category='photo', file_name='bush_2.jpg')),
        tp.InputMediaPhoto(media=load_file(category='photo', file_name='bush_3.jpg')),
    ]

    await callback.answer(
        text='–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤—ã–≥—Ä—É–∂–µ–Ω–∞ –∏–∑ –∞—Ä—Ö–∏–≤–∞ ‚ö†Ô∏è',
        show_alert=True
    )
    
    await callback.message.answer_media_group(
        media=group_media
    )


@router.callback_query(F.data == 'dna')
async def flower_handler(callback: tp.CallbackQuery) -> None:

    '''
    –ö–æ—Ä—É—Ç–∏–Ω–∞ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é.
    '''

    text = '''
<b>–û–±—Ä–∞–∑–µ—Ü ¬´–¢¬ª üß¨</b>

<b>–û–ø–∏—Å–∞–Ω–∏–µ:</b>
<i>–û–±—Ä–∞–∑–µ—Ü –≤–∏—Ä—É—Å–∞ ¬´T¬ª  —Ä–∞–Ω–µ–µ –≥—Ä—É–ø–ø–æ–π —É—á—ë–Ω—ã—Ö Umbrella corp.</i>

<b>–ò—Å—Ç–æ—Ä–∏—è:</b>
<i>–í –Ω–∞—á–∞–ª–µ 90-—Ö –≥–æ–¥–æ–≤ XX –≤–µ–∫–∞, —É—á–µ–Ω—ã–µ –∏–∑ –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏ Umbrella –Ω–∞—á–∞–ª–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∏—Ö –º—É—Ç–∞—Ü–∏–π —Å —Ü–µ–ª—å—é —Å–æ–∑–¥–∞–Ω–∏—è –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ –±–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –æ—Ä—É–∂–∏—è. –í–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç–∞–º–∏ –ø–æ –î–ù–ö-–º–∞–Ω–∏–ø—É–ª—è—Ü–∏—è–º –∏ –≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω–∂–µ–Ω–µ—Ä–∏–∏, –æ–Ω–∏ –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏, —á—Ç–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –±–µ–ª–∫–∏, –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–µ –≤ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –Ω–µ—Ä–≤–Ω—ã–º–∏ –∫–ª–µ—Ç–∫–∞–º–∏, –º–æ–≥—É—Ç –≤—ã–∑–≤–∞—Ç—å –Ω–µ–æ–±—Ä–∞—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ—Ä–≥–∞–Ω–∏–∑–º–µ.</i>

<b>–°–≤–æ–π—Å—Ç–≤–∞:</b>
<i>1. –ú—É—Ç–∞–≥–µ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞: ¬´–¢¬ª –≤–∏—Ä—É—Å —Å–ø–æ—Å–æ–±–µ–Ω –≤—ã–∑—ã–≤–∞—Ç—å –≥–ª—É–±–æ–∫–∏–µ –º—É—Ç–∞—Ü–∏–∏ –≤ –æ—Ä–≥–∞–Ω–∏–∑–º–µ —Ö–æ–∑—è–∏–Ω–∞, —á—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—è–µ—Ç –µ–≥–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏, –Ω–æ –∏ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Å–∏—Ö–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
2. –†–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è: –í–∏—Ä—É—Å –æ–±–ª–∞–¥–∞–µ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å—é –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–µ —Ç–∫–∞–Ω–∏, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∑–∞—Ä–∞–∂–µ–Ω–Ω—ã—Ö –±–æ–ª–µ–µ –≤—ã–Ω–æ—Å–ª–∏–≤—ã–º–∏ –∏ —Ç—Ä—É–¥–Ω–æ–ø—Ä–æ–±–∏–≤–∞–µ–º—ã–º–∏. –≠—Ç–æ –∫–∞—á–µ—Å—Ç–≤–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—Ä–æ–∫ –∂–∏–∑–Ω–∏ –∏—Å—Ö–æ–¥–Ω—ã—Ö –∫–ª–µ—Ç–æ–∫.
3. –ü—Å–∏—Ö–∏—á–µ—Å–∫–∞—è –∞–≥—Ä–µ—Å—Å–∏—è: –ó–∞—Ä–∞–∂–µ–Ω–Ω—ã–µ ¬´–¢¬ª –≤–∏—Ä—É—Å–æ–º —Ç–µ—Ä—è—é—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å–≤–æ–∏–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º –∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–º–∏, —á–∞—Å—Ç–æ –ø—Ä–æ—è–≤–ª—è—è —Å–∫–ª–æ–Ω–Ω–æ—Å—Ç—å –∫ –Ω–∞—Å–∏–ª–∏—é –∏ —Ö–∏—â–Ω–∏—á–µ—Å–∫–∏–º –∏–Ω—Å—Ç–∏–Ω–∫—Ç–∞–º.</i>
'''

    group_media = [
        tp.InputMediaPhoto(
            media=load_file(category='photo', file_name='DNA_1.jpg'),
            caption=text
        ),
        tp.InputMediaPhoto(media=load_file(category='photo', file_name='DNA_2.jpg')),
    ]

    await callback.answer(
        text='–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤—ã–≥—Ä—É–∂–µ–Ω–∞ –∏–∑ –∞—Ä—Ö–∏–≤–∞ ‚ö†Ô∏è',
        show_alert=True
    )
    
    await callback.message.answer_media_group(
        media=group_media
    )
